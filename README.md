# Segmented Regression
Controlling for salary, does the linear trend predicting number of home runs hit every year change through time? Additionally, does batting hand significantly moderate the effect of year on home runs and/or does league moderate the effect of year on home runs?

To answer this question, I used segmented regression (piecewise regression) with interactions. I used data from a baseball database compiled by author and journalist, Sean Lahman. This database contains baseball statistics from 1871 - 2018. I used bootstrap technique to determine the best beak for the model. The smallest RMSE from different models with different breakpoints was 0.947. 

Model assumptions were checked and outliers were removed by computing Cook's distances. 

The model with the smallest RMSE had a breakpoint of 2009, so the year 2009 was used to separate the dataset. The overall model significantly fits the data and 1.014% of the variation in home runs is explained by the model, F(16, 12707) = 8.139, p < 0.05. The intercept of the model was -42.23, meaning that a batter hypothetically playing in year 0 would bat -42.23 home runs, t(12707) = -2.604, p < 0.05. For every one unit increase in year before 2009, home runs significantly increased by 0.0213, t(12707) = 2.616, p < 0.05. There is a non-significant main effect of the year 2009 increasing the number of home runs per year; after 2009, the number of home runs hit decreases by 0.1866, t(12707) = -0.830, p = 0.406. The increase in home runs each year between segments is non-significant, t(12707) = -0.225, p = 0.822. For every one unit increase in year after 2009, home runs non-significantly increase by 0.0111, t(12707) = 0.247, p = 0.805. The control variable, salary (in thousands), had a significant effect on home runs, b = 1.147 x 10-5, t(12707) = 4.345, p < 0.05.

Of the interactions in this model, the slope of home runs was only moderated by the playerâ€™s batting hand before 2009. When going from a batter who bats with both hands to a batter that only uses their left hand, the slope for home runs before 2009 decreases by 0.0228, t(12707) = -2.707, p < 0.05. Similarly, when going from a batter who bats with both hands to a batter that only uses their right hand, the slope for home runs before 2009 decreases by 0.0248, t(12707) = -3.042, p < 0.05. 

Upon further investigation of the simple slopes, there was a significant impact of year on home runs for those who switched batting hands (b = 0.019, t(12707) = 2.429, p < 0.05). There was a non-significant impact of year on home runs for those who used their left hand (b = -0.003, t(12707) = -1.265, p = 0.2058). There was a significant impact of year on home runs for those who used their right hand (b = -0.005, t(12707) = -3.185, p < 0.05).

